{% extends 'base.html' %}

{% block title %}{{ anime.title }} ‚Äî Lalalai{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-pink-50 py-8 px-4">
  <div class="max-w-5xl mx-auto">
    <!-- Anime Details Card -->
    <div class="w-full bg-gradient-to-r from-purple-100/90 to-pink-100/90 backdrop-blur-sm rounded-3xl 
                shadow-[0_5px_15px_rgba(192,132,252,0.3)] p-6 mb-10 overflow-hidden">
      <div class="flex flex-col sm:flex-row items-start">
        <!-- Poster -->
        <div class="w-[240px] h-[340px] mx-auto sm:mx-0 sm:mr-8 mb-6 sm:mb-0 shrink-0 rounded-2xl overflow-hidden 
                    shadow-[0_0_20px_rgba(249,168,212,0.4)]">
          <img src="{{ anime.poster.url }}" alt="{{ anime.title }}"
               class="w-full h-full object-cover object-center hover:scale-105 transition-transform duration-500">
        </div>

        <!-- Details -->
        <div class="flex flex-col text-gray-800 w-full space-y-4">
          <h2 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-2">
            {{ anime.title }}
          </h2>

          {% if anime.release_date %}
            <div class="flex items-center">
              <span class="w-32 font-medium text-purple-700">–ì–æ–¥ –≤—ã—Ö–æ–¥–∞:</span> 
              <span class="text-gray-700">{{ anime.release_date.year }}</span>
            </div>
          {% endif %}

          {% if anime.genres.all %}
            <div class="flex items-start">
              <span class="w-32 font-medium text-purple-700">–ñ–∞–Ω—Ä:</span>
              <div class="flex flex-wrap gap-2">
                {% for genre in anime.genres.all %}
                  <span class="px-3 py-1 bg-pink-100 text-pink-700 text-xs rounded-full">{{ genre }}</span>
                {% endfor %}
              </div>
            </div>
          {% endif %}

          {% if anime.studio %}
            <div class="flex items-center">
              <span class="w-32 font-medium text-purple-700">–°—Ç—É–¥–∏—è:</span>
              <span class="text-gray-700">{{ anime.studio.name }}</span>
            </div>
          {% endif %}

          {% if anime.description %}
            <div class="mt-4">
              <p class="font-medium text-purple-700 mb-2">–û–ø–∏—Å–∞–Ω–∏–µ:</p>
              <p class="text-gray-700 leading-relaxed bg-white/50 p-4 rounded-xl">{{ anime.description }}</p>
            </div>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Seasons Section -->
    <div class="mb-12">
      <h2 class="text-2xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">
        –°–µ–∑–æ–Ω—ã
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
        {% for season in seasons %}
          <a href="{% url 'season_detail' anime.url_title season.url_title %}"
             class="group flex items-center bg-white/70 backdrop-blur-sm rounded-2xl p-5 
                    shadow-[0_3px_10px_rgba(192,132,252,0.2)] hover:shadow-[0_5px_15px_rgba(249,168,212,0.4)] 
                    transition-all duration-300">

            <div class="w-24 h-24 flex-shrink-0 rounded-xl overflow-hidden shadow-sm group-hover:shadow-md transition-all">
              <img src="{{ season.poster.url }}" alt="{{ season.title }}"
                   class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500">
            </div>

            <div class="ml-5">
              <h3 class="text-xl font-semibold text-purple-700 group-hover:text-pink-600 transition-colors">
                {{ season.title }}
              </h3>
              <p class="text-sm text-gray-600 mt-1">–°–µ–∑–æ–Ω ‚Ññ{{ season.season_number }}</p>
              <div class="mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <span class="inline-block px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full">
                  –°–º–æ—Ç—Ä–µ—Ç—å ‚Üí
                </span>
              </div>
            </div>
          </a>
        {% endfor %}
      </div>
    </div>

    <!-- Openings Section -->
    {% if anime.openings.all %}
      <div class="text-center py-8 px-6 bg-gradient-to-r from-pink-100/80 to-purple-100/80 backdrop-blur-sm 
                  rounded-2xl shadow-[0_3px_10px_rgba(192,132,252,0.2)]">
        <h2 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-4">
          –û–ø–µ–Ω–∏–Ω–≥–∏
        </h2>
        <a href="{% url 'anime_openings' anime.url_title %}"
           class="inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 
                  hover:to-pink-600 text-white font-medium py-3 px-8 rounded-full 
                  shadow-[0_4px_10px_rgba(192,132,252,0.5)] hover:shadow-[0_4px_15px_rgba(249,168,212,0.6)] 
                  transition-all duration-300 transform hover:-translate-y-1">
          <span class="text-lg">üéµ</span> –°–º–æ—Ç—Ä–µ—Ç—å –æ–ø–µ–Ω–∏–Ω–≥
        </a>
      </div>
    {% endif %}

  </div>
</div>
{% endblock %}