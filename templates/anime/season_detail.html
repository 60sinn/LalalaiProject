{% extends 'base.html' %}

{% block title %}{{ season.title }} — {{ season.anime.title }}{% endblock %}

{% block content %}
  <div class="max-w-4xl mx-auto px-4">

    <div class="w-full bg-purple-200 border border-purple-400 rounded-2xl shadow-lg p-6 mb-10 overflow-hidden">
      <div class="flex flex-col sm:flex-row items-start">

        <div class="w-[240px] h-[340px] mr-0 sm:mr-6 mb-4 sm:mb-0 shrink-0 rounded-lg overflow-hidden border border-purple-300">
          <img src="{{ season.poster.url }}" alt="{{ season.title }}"
               class="w-full h-full object-cover object-center">
        </div>

        <div class="flex flex-col text-gray-800 w-full space-y-2">
          <h2 class="text-2xl font-bold text-purple-700 mb-2">{{ season.title }}</h2>

          <p><span class="font-semibold text-purple-700">Аниме:</span>
            <a href="{% url 'anime_detail' season.anime.url_title %}" class="hover:underline text-pink-600">{{ season.anime.title }}</a>
          </p>

          <p><span class="font-semibold text-purple-700">Название сезона:</span> {{ season.title }}</p>

          {% if season.release_date %}
            <p><span class="font-semibold text-purple-700">Год выхода:</span> {{ season.release_date.year }}</p>
          {% endif %}

          <p><span class="font-semibold text-purple-700">Номер сезона:</span> {{ season.season_number }}</p>
        </div>

      </div>
    </div>

    <h2 class="text-2xl font-semibold mb-4 text-purple-700">Эпизоды</h2>
    <ul class="space-y-3">
      {% for episode in episodes %}
        <li>
          <a href="{% url 'episode_detail' season.anime.url_title season.url_title episode.url_title %}"
             class="block bg-white/80 backdrop-blur p-4 rounded-xl shadow hover:shadow-lg transition">
            <span class="text-pink-600 font-semibold">Эпизод {{ episode.episode_number }}:</span>
            {{ episode.title }}
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
